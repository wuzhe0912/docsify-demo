# Vue.js - II

> 整理常見 Vue.js 面試題目 II

## 11. Vuex 適合存放怎樣的資料？
舉例來說，平台商可能接入多種遊戲商，每家遊戲商的做法不同，有些可能有開放試玩，有些可能沒有，因此在使用者帳號資訊中，就會存在三種狀態情境，登入、未登入、試玩，無論是遊戲商頁面、會員首頁的錢包顯示，這些頁面都要判斷登入顯示什麼，未登入顯示什麼。

如果每頁都呼叫一次使用者資訊的`API`，那就顯得太過缺乏效率，所以我們會把使用者帳號的資料狀態存放在 `Vuex`，當用戶進行註冊登入時，則更新`Vuex`的狀態，這樣全域有調用該狀態的`component`也就自動隨之更新。

## 12. keep-alive 的用法
可以理解為一種暫存資料的方式，假設後台有一些表單需要填寫時，可能使用者會需要來回切換不同區塊，這時候會導致原先填寫到一半的資料消失，透過`keep-alive`去包裹，可以暫時存放資料，優化使用體驗。

## 13. 簡單說一下 slot 是什麼？
基本操作和`component`雷同，載入需要插入的`component`，再透過父子組件傳值，差別在於，接受傳值的子組件需要在`template`上使用`slot`標籤，這個標籤內的內容，則會渲染父組件傳過來的子內容或子節點，內容在父組件會使用雙花括號包裹。當然如果父組件沒有傳值，也可以直接使用子組件的資料來顯示。

## 14. 如果在 v-for 中不設 key 會發生什麼問題？
因為對於程式來說，它們的思考是很死板的，如果沒有設定唯一值的`Key`，當我們對陣列進行操作時，就會造成實際結果和預期結果完全不同。譬如說：A array 中有三種水果，依序為蘋果、西瓜、葡萄，我刪除了西瓜的位置，index 上固然是 1、3，但對 vue 來說，在遍歷中它只會認為是目錄2被改成3，同時元素又因為沒有被刪除，在就地複用的原則下，就變成`1: 蘋果`、`3: 西瓜`。所以透過唯一值的`Key`，讓`v-for`在遍歷中，若要進行操作可以正常執行。

另外，`key`作為唯一值時，對`vue`的底層虛擬`DOM`渲染也有幫助(涉及`diff`演算法)，當擁有唯一值時，即便陣列或物件中加入新的資料，`vue`可以避免重複渲染的問題，對效能提升有幫助。

## 15. component 之間有哪些傳遞資料的方式？
狹義來說主要是父子組件傳值、同層級傳值、全域管理：
  - 父子組件，通過`props`接收父組件傳下來的資料，同時也能透過`@emit`來呼叫父組件執行函式。
  - 兄弟組件，同層級組件可以透過`EventBus`傳遞資料。
  - `Vuex`是常見的專案狀態管理，如果有多個組件需要複用的狀態或是函式，可以統一由`Vuex`來管理。

廣義來說，我會認為還有兩種狀況也算是傳遞資料的方式：
  - `localStorage`或是`sessionStorage`存放的資料，組件間也是能調用。
  - `router.push`中例如`query`或是`params`也是可以帶入參數，等同是傳遞資料給進入的下一個組件。

## 16. 什麼是 Vue.use()?
如果我們有安裝依賴在`Vue`的套件，可以透過`Vue.use()`的方法，把套件註冊到全域環境，讓其他`component` 可以直接使用，而不需要每頁都`import`該插件。

## 17. Angular vs React vs Vue 差異性？
- 結構，雖然三者都被稱為框架，但從嚴謹角度來看：
  - `Angular`可以被稱為框架，Google 的團隊提供了各種內置 `API`，包含表單驗證、狀態管理、路由等等功能，而另外兩者更接近為`Library`，因此最優。
  - `React`早期幾乎是什麼都沒有提供，後來`React Router`、`Redux`都是社群貢獻的，`Vue`則是提供一部分，包括狀態管理、路由。但隨著時間推進，兩者的社群都相當程度完善了結構。

- 語法，這邊會相對主觀，依個人開發習慣而定：
  - `Vue`有相當數量的指令，因此一定程度上，更像是用`Vue`開發而非`JS`，不過個人還是相對偏好模板分離的寫法，至於專案撰寫規範上，大體上皆採用官方制定的規則，有一定規範模式。
  - `React`的特色寫法`JSX`，揉合了`HTML、CSS、JS`，一定程度上，讓不少人不習慣上手，但如果本身是`JS`的愛好者，又喜歡`CSS in JS`的寫法，想必是不排斥的。高度自由的撰寫風格，帶來一定程度的詬病，如果自身實力的不足的情況，很可能會出現 n 個專案，n 種結構。
  - `Angular`除了自身的指令外，因其自身的嚴謹性，必須遵守框架規則外，倘若又使用`TypeScript`，某種意義上，需要花費相當的大精力來渡過陣痛期，

- 學習成本：`Vue`是遠勝過後兩者，`React`固然最自由，但幾乎多數功能都要求開發者自行處理，因此非常考驗開發者功力，而`Angular`則是受限於自身體積龐大，需要相當的時間來掌握使用。

